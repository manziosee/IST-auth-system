# Simple build Dockerfile
FROM eclipse-temurin:17-jdk-alpine

WORKDIR /app

# Copy everything
COPY . .

# Make gradlew executable and build
RUN chmod +x ./gradlew
RUN ./gradlew clean build -x test --no-daemon

EXPOSE 8080

CMD ["java", "-jar", "build/libs/ist-auth-system-0.0.1-SNAPSHOT.jar"]